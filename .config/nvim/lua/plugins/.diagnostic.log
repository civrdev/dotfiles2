return {
	{
		"rachartier/tiny-inline-diagnostic.nvim",
		event = "VeryLazy",
		priority = 1000,

		opts = {
			preset = "classic",

			transparent_bg = true,
			transparent_cursorline = true,

			hi = {
				error = "DiagnosticError",
				warn = "DiagnosticWarn",
				info = "DiagnosticInfo",
				hint = "DiagnosticHint",
				arrow = "NonText",

				background = "none",
				mixing_color = "NONE",
			},

			signs = {
				arrow = "",
				up_arrow = "",
			},

			options = {
				show_source = {
					enabled = false,
				},

				use_icons_from_diagnostic = true,
				set_arrow_to_diag_color = true,

				add_messages = true,
				throttle = 0,
				softwrap = 30,

				multilines = {
					enabled = false,
					always_show = false,
					trim_whitespaces = false,
					tabstop = 4,
				},

				show_all_diags_on_cursorline = false,
				enable_on_insert = true,
				enable_on_select = false,

				overflow = {
					mode = "wrap",
					padding = 1,
				},

				break_line = {
					enabled = false,
					after = 30,
				},

				format = nil,

				virt_texts = {
					priority = 2048,
				},

				severity = {
					vim.diagnostic.severity.ERROR,
					vim.diagnostic.severity.WARN,
					vim.diagnostic.severity.INFO,
					vim.diagnostic.severity.HINT,
				},

				overwrite_events = nil,
			},

			disabled_ft = {},
		},

		config = function(_, opts)
			require("tiny-inline-diagnostic").setup(opts)

			vim.diagnostic.config({
				virtual_text = false,
			})
		end,
	},
}
